<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>用户编辑</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/css/bootstrap-responsive.min.css">
</head>
<body>
<script src="/js/jquery-3.3.1.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/constant.js"></script>
<script>
    function sendForm(){
        var param = {
            "name":$("#name").val(),
            "tel":$("#tel").val(),
            "id":$("#id").val(),
            "createdAt":$("#createdAt").val(),
            "updatedAt":$("#updatedAt").val()};
        $.ajax({
            contentType:"application/json; charset=utf-8",
            data: JSON.stringify(param),
            url:HttpParam.http_prefix+"/user",
            type:"POST",
            cache:false,
            success:function(){
                alert("保存成功");
            },error:function(){
                alert("请求出错，请刷新页面尝试");
            }
        })
    }
</script>
<form id="userForm" class="form-horizontal">
    <input type="hidden" id="id" th:value="${user.id}"/>
    <input type="hidden" id="createdAt" th:value="${user.createdAt}"/>
    <input type="hidden" id="updatedAt" th:value="${user.updatedAt}"/>
    <div class="control-group">
        <label for="name">名称</label>
        <input th:value="${user.name}" class="form-control" id="name" placeholder="请输入名称">
    </div>
    <div class="control-group">
        <label for="tel">电话</label>
        <input type="number" th:value="${user.tel}" class="form-control" id="tel" placeholder="请输入电话">
    </div>
    <div class="control-group">
        <div class="controls">
            <button type="button" class="btn" onclick="sendForm();">保存</button>
        </div>
    </div>
</form>
</body>
</html>